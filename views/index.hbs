<!DOCTYPE html>
<html lang='es'>
    <head>

        <meta charset='UTF-8'>
        <link rel='stylesheet' href='/style.css'>
        <link rel='icon' href='/img/wctrophy.png' type='image/png'>
        <meta name='viewport' content='width=device-width, initial-scale=1.0' >
        <title>Mundial 2026</title>
        <link rel="preload" as="image" href="/img/icons/home_active.png">
        <link rel="preload" as="image" href="/img/icons/play.png">
        <link rel="preload" as="image" href="/img/icons/leaderboard.png">
        <link rel="preload" as="image" href="/img/icons/teams.png">
        <link rel="preload" as="image" href="/img/icons/perfil.png">
        <link rel="manifest" href="/manifest.json">
    </head>
    <body>
        <nav class="nav-bar">
            <a href="/">
            <img src='/img/wctrophy.png' height="50px" style="margin-left: 15px;">
            </a>            
                {{#if isAuthenticated}}
                <ul class="menu-links">
                    <li><a href="/">Inicio</a></li>
                    <li><a href="/teams">Equipos</a></li>
                    <li><a href="/profile" style="margin:0;">{{username}}</a></li>
                    <li><a href="/auth/logout">Cerrar sesi√≥n</a></li>
                    <li><a href="/play">Jugar</a>
                    <li><a href="/leaderboard">Tabla</a></li>
                </ul>
                {{else}}
                    <ul class="menu-links">
                        <li><a href="/">Inicio</a></li>
                        <li><a href="/login">Login</a></li>
                        <li><a href="/register">Registrarse</a></li>
                    </ul>
                {{/if}}
            
        </nav>
        
        <div class="home-container">
            {{#if isAuthenticated}}
                <div class="mobile-nav-bar">
                    <a href="/"><img id="home" src="/img/icons/home_active.png" alt="home"><label class="menu-active">Inicio</label></a>
                    <a href="/play"><img src="/img/icons/play.png" alt="play"><label>Jugar</label></a>
                    <a href="/leaderboard"><img src="/img/icons/leaderboard.png" alt="leaderboard"><label>Tabla</label></a>
                    <a href="/teams"><img src="/img/icons/teams.png" alt="teams"><label>Equipos</label></a>
                    <a href="/profile"><img src="/img/icons/perfil.png" alt="perfil"><label>Perfil</label></a>
                </div>
                {{#if (eq username 'Yoyo')}}
                    <a class="admin" href="/admin-amrdq12s">ADMIN</a>
                {{/if}}
                
                {{#if fav_team}}
                    <img id="fav_team_flag" src="/img/flags/{{fav_team}}.png" 
                    onerror="this.onerror=null; this.src='/img/flags/por_definir.png';" 
                    alt="Bandera de {{fav_team}}" width="50px" height="50px">
                    <h2 style="margin: 15px 0 0 0;">{{username}}</h2>
                {{else}}
                    <label for="fav_team">Elige tu equipo favorito</label>
                    <form action="/loadfavteam" method="POST">
                        <select name="fav_team" id="fav_team">
                            {{#each teams}}
                                <option value="{{id}}">{{name}}</option>
                            {{/each}}
                        </select>
                        <input type="submit" value="Elegir">
                    </form>
                {{/if}}
                <div class="land-partidos-container">
                    <h2 style="font-size: 14px;margin:0;">PROX. PARTIDOS</h2>
                {{#each partidos}}
                    <div class="land-partidos">
                        <div class="land-team"><img src="/img/flags/{{toLowerCase this.team1_short_name}}.png" />{{this.team1_name}}</div>
                        <div>VS</div>
                        <div class="land-team"><img src="/img/flags/{{toLowerCase this.team2_short_name}}.png" />{{this.team2_name}}</div>
                    </div>
                {{/each}}
                </div>
                <div class="land-container">
                    <a id="play-button" href="/play">
                        <img class="icon" src="/img/icons/flecha_play.png">Arma tu Quiniela!
                    </a>
                    <a href="/rules"><img alt="Reglas" src="/img/icons/rules.png" height="50px"><label>Reglas</label></a>
                    <a href="/howtoplay"><img alt="Como Jugar" src="/img/icons/question_mark.png" height="50px"><label>C√≥mo jugar</label></a>
                    <a href="https://chat.whatsapp.com/Hhd3VGt9oPc0kYCT2nZghf" target="_blank"><img alt="WhatsApp" src="/img/icons/whatsapp_icon.png" height="50px"><label>Grupo de Whatsapp</label></a>
                    <a href="/tournament"><img alt="Torneo" src="/img/icons/torneo.png" height="50px"><label>Torneo</label></a>
                </div>
            {{else}}
                <div id="splash">
                    <img src='/img/wclogo.png' id="splash-logo" style="width: 150px; height: auto;"  alt="Mundial 2026">
                    <h1 id="splash-text">MUNDIAL 2026</h1>
                </div>
                <div class="land" id="land" style="display:none;">  
                    <h1 class="home-text">BIENVENIDO</h1>
                    <h2 class="quiniela-name">Quiniela Mundial 2026</h2>
                        <div class="dark-bg">
                            <div class="image-container">
                                <img class="quiniela2026wp" src="/img/quiniela_logo.png">
                            </div>
                            <div class="text-container home-main">
                                <a class="home-links" href="/login">
                                    <img src="/img/icons/perfil.png"/>
                                    Iniciar sesi√≥n
                                </a>
                                <a class="home-links" href="/register">
                                <img src="/img/icons/plus_sign.png"/>
                                    Registrarse
                                </a>
                                <a class="forgot-password" href="/forgotpassword">Olvid√© mi contrase√±a</a>
                            </div>
                            
                        </div>
                        
                    
                    <div class="countdown-container">
                    <img src="/img/icons/clock.png" height="100">            
                    <h2 style="display:block; text-align: center;" id="countdown"></h2>
                    <script>
                        function startCountdown(targetDate) {
                        function updateCountdown() {
                            const now = new Date().getTime();
                            const timeLeft = targetDate - now;

                            if (timeLeft <= 0) {
                                document.getElementById("countdown").innerHTML = "El mundial ha comenzado! &#x26BD;";
                                clearInterval(interval);
                                return;
                            }

                            const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
                            const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                            const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
                            const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);

                            document.getElementById("countdown").innerHTML =
                            `Faltan<br>${days}d ${hours}h ${minutes}m
                                ${seconds}s<br> para que empiece el mundial!`;
                            
                        }

                        updateCountdown(); // Llamar una vez para evitar el primer segundo en blanco
                        const interval = setInterval(updateCountdown, 1000);
                    }

                    // üîπ Configura la fecha objetivo (Ejemplo: 14 de junio de 2026 - Inicio del Mundial)
                    const mundialFecha = new Date("June 11, 2026 00:00:00").getTime();
                    startCountdown(mundialFecha);
                    </script>    
                </div>
                <div class="home-flags">
                    <h2>Campeones del Mundo</h2>
                    <div class="home-flag">
                    <img src="/img/flags/por_definir.png" height="30px">
                    2026
                    </div>

                    <div class="home-flag">
                    <img src="/img/flags/arg.png" height="30px">
                    2022
                    </div>

                    <div class="home-flag">
                    <img src="/img/flags/fra.png" height="30px">
                    2018
                    </div>

                    <div class="home-flag">
                    <img src="/img/flags/ger.png" height="30px">
                    2014
                    </div>

                    <div class="home-flag">
                    <img src="/img/flags/esp.png" height="30px">
                    2010
                    </div>

                    <div class="home-flag">
                    <img src="/img/flags/ita.png" height="30px">
                    2006
                    </div>

                    <div class="home-flag">
                    <img src="/img/flags/bra.png" height="30px">
                    2002
                    </div>

                    <div class="home-flag">
                    <img src="/img/flags/fra.png" height="30px">
                    1998
                    </div>

                    <div class="home-flag">
                    <img src="/img/flags/bra.png" height="30px">
                    1994
                    </div>

                    <div class="home-flag">
                    <img src="/img/flags/ger.png" height="30px">
                    1990
                    </div>

                    <div class="home-flag">
                    <img src="/img/flags/arg.png" height="30px">
                    1986
                    </div>

                    <div class="home-flag">
                    <img src="/img/flags/ita.png" height="30px">
                    1982
                    </div>

                    <div class="home-flag">
                    <img src="/img/flags/arg.png" height="30px">
                    1978
                    </div>

                    <div class="home-flag">
                    <img src="/img/flags/ger.png" height="30px">
                    1974
                    </div>

                    <div class="home-flag">
                    <img src="/img/flags/bra.png" height="30px">
                    1970
                    </div>

                    <div class="home-flag">
                    <img src="/img/flags/eng.png" height="30px">
                    1966
                    </div>

                    <div class="home-flag">
                    <img src="/img/flags/bra.png" height="30px">
                    1962
                    </div>

                    <div class="home-flag">
                    <img src="/img/flags/bra.png" height="30px">
                    1958
                    </div>

                    <div class="home-flag">
                    <img src="/img/flags/ger.png" height="30px">
                    1954
                    </div>

                    <div class="home-flag">
                    <img src="/img/flags/uru.png" height="30px">
                    1950
                    </div>

                    <div class="home-flag">
                    <img src="/img/flags/ita.png" height="30px">
                    1938
                    </div>

                    <div class="home-flag">
                    <img src="/img/flags/ita.png" height="30px">
                    1934
                    </div>

                    <div class="home-flag">
                    <img src="/img/flags/uru.png" height="30px">
                    1930
                    </div>

                </div>
                
            {{/if}}

            
           
        </div>
        
        <script>
        window.addEventListener('load', () => {
            setTimeout(() => {
            document.getElementById('land').style.display = 'flex';
            document.body.style.overflow = 'auto';
            }, 0); // mostrar contenido despu√©s de que desaparece el splash
        });
        </script>

    </body>
</html>