<!DOCTYPE html>
<html lang='es'>
    <head>

        <meta charset='UTF-8'>
        <link rel='stylesheet' href='/style.css'>
        <link rel='icon' href='/img/wctrophy.png' type='image/png'>
        <meta name='viewport' content='width=device-width, initial-scale=1.0' >
        <title>Mundial 2026</title>
        <link rel="preload" as="image" href="/img/icons/home_active.png">
        <link rel="preload" as="image" href="/img/icons/play.png">
        <link rel="preload" as="image" href="/img/icons/leaderboard.png">
        <link rel="preload" as="image" href="/img/icons/teams.png">
        <link rel="preload" as="image" href="/img/icons/perfil.png">
    </head>
    <body>
        <nav class="nav-bar">
            <a href="/">
            <img src='/img/wctrophy.png' height="50px" style="margin-left: 15px;">
            </a>            
                {{#if isAuthenticated}}
                <ul class="menu-links">
                    <li><a href="/">Inicio</a></li>
                    <li><a href="/teams">Equipos</a></li>
                    <li><a href="/profile" style="margin:0;">{{username}}</a></li>
                    <li><a href="/auth/logout">Cerrar sesión</a></li>
                    <li><a href="/play">Jugar</a>
                    <li><a href="/leaderboard">Tabla</a></li>
                </ul>
                {{else}}
                    <ul class="menu-links">
                        <li><a href="/">Inicio</a></li>
                        <li><a href="/login">Login</a></li>
                        <li><a href="/register">Registrarse</a></li>
                    </ul>
                {{/if}}
            
        </nav>
        
        <div class="container">
            {{#if isAuthenticated}}
                <div class="mobile-nav-bar">
                    <a href="/"><img id="home" src="/img/icons/home_active.png" alt="home"><label class="menu-active">Inicio</label></a>
                    <a href="/play"><img src="/img/icons/play.png" alt="play"><label>Jugar</label></a>
                    <a href="/leaderboard"><img src="/img/icons/leaderboard.png" alt="leaderboard"><label>Tabla</label></a>
                    <a href="/teams"><img src="/img/icons/teams.png" alt="teams"><label>Equipos</label></a>
                    <a href="/profile"><img src="/img/icons/perfil.png" alt="perfil"><label>Perfil</label></a>
                </div>
                {{#if (eq username 'Yoyo')}}
                    <a class="admin" href="/admin-amrdq12s">ADMIN</a>
                {{/if}}
                
                {{#if fav_team}}
                    <img id="fav_team_flag" src="/img/flags/{{fav_team}}.png" 
                    onerror="this.onerror=null; this.src='/img/flags/por_definir.png';" 
                    alt="Bandera de {{fav_team}}" width="50px" height="50px">
                    <h2 style="margin: 15px 0 0 0;">{{username}}</h2>
                {{else}}
                    <label for="fav_team">Elige tu equipo favorito</label>
                    <form action="/loadfavteam" method="POST">
                        <select name="fav_team" id="fav_team">
                            {{#each teams}}
                                <option value="{{id}}">{{name}}</option>
                            {{/each}}
                        </select>
                        <input type="submit" value="Elegir">
                    </form>
                {{/if}}
                <div class="land-container">
                    <a id="play-button" href="/play">
                        <img src="/img/icons/dice.png" height="80">Arma tu Quiniela!
                    </a>
                    <a href="/rules"><img alt="Reglas" src="/img/icons/rules.png" height="50px"><label>Reglas</label></a>
                    <a href="/howtoplay"><img alt="Como Jugar" src="/img/icons/question_mark.png" height="50px"><label>Cómo jugar</label></a>
                    <a href="https://chat.whatsapp.com/Hhd3VGt9oPc0kYCT2nZghf" target="_blank"><img alt="WhatsApp" src="/img/icons/whatsapp_icon.png" height="50px"><label>Grupo de Whatsapp</label></a>
                    <a href="/tournament"><img alt="Torneo" src="/img/icons/torneo.png" height="50px"><label>Torneo</label></a>
                </div>
            {{else}}
            
                <div class="land">
                    <h1 style="display:flex; align-items: center;"><img src='/img/wctrophy.png' height="70px">Quiniela 2026<img src='/img/wctrophy.png' height="70px"></h1>
                    <p>Crea tu quiniela, reta a tus amigos y gana premios increíbles.</p>
                        <div class="dark-bg">
                            <div class="image-container">
                                <img class="quiniela2026wp" src="/img/lamine.png" height="200">
                            </div>
                            <div class="text-container">
                                <a href="/login">Inicia sesión</a>
                                <br>
                                Si aún no te has registrado,<br>
                                <a href="/register">Regístrate ya!</a>
                            </div>
                        </div>
                        
                    
                    <div class="countdown-container">
                    <img src="/img/icons/clock.png" height="100">            
                    <h2 style="display:block; text-align: center;" id="countdown"></h2>
                    <script>
                        function startCountdown(targetDate) {
                        function updateCountdown() {
                            const now = new Date().getTime();
                            const timeLeft = targetDate - now;

                            if (timeLeft <= 0) {
                                document.getElementById("countdown").innerHTML = "El mundial ha comenzado! &#x26BD;";
                                clearInterval(interval);
                                return;
                            }

                            const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
                            const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                            const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
                            const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);

                            document.getElementById("countdown").innerHTML =
                            `Faltan<br>${days}d ${hours}h ${minutes}m
                                ${seconds}s<br> para que empiece el mundial!`;
                            
                        }

                        updateCountdown(); // Llamar una vez para evitar el primer segundo en blanco
                        const interval = setInterval(updateCountdown, 1000);
                    }

                    // 🔹 Configura la fecha objetivo (Ejemplo: 14 de junio de 2026 - Inicio del Mundial)
                    const mundialFecha = new Date("June 11, 2026 00:00:00").getTime();
                    startCountdown(mundialFecha);
                    </script>    
                </div>

                <div class="hiw">
                    <h2>Cómo funciona?</h2>
                    <p style="text-align: left; font-size: 15px;">
                    &#128100; Regístrate<br>
                    &#9917; Predice los resultados<br>
                    &#128016; Elige a tus jugadores favoritos<br>
                    &#129351; Suma puntos y compite en el ranking<br>
                    &#127942; Gana premios</p>
                </div>
                </div>
                
            {{/if}}

            
           
        </div>
        
    </body>
</html>